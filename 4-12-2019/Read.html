<!doctype html>
<html>
<head>
<meta charset="UTF-8">

<title>CSV FILE READING</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src ="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
<script src = SortTable.js></script>


<script>
function DeleteRow(event)
{
event.target.parentNode.parentNode.remove();
}
function EditRow(event)
{
var children = event.target.parentNode.parentNode.children;
for(var i=1;i<children.length-2;i++)
{
children[i].contentEditable = true;
}
}


function loadfile(){
$.ajax({

url:"File.csv",
dataType:"text",
success:function(data)
{
var data = data.split(/\r?\n|\r/);
var table_data='<table class="table table-bordered table-striped"  id ="Table1">';
for(var count=0; count < data.length-3970; count++)
{
var cell_data=data[count].split(",");
//table row in table_data
table_data+='<tr>';
//cell_count to table_data 
for(var cell_count=0;cell_count<cell_data.length;
cell_count++)
{
if(count === 0)
{
	table_data+='<th onclick="SortTable('+cell_count+')"> <a>'+cell_data[cell_count]+'</a></th>';
}
else
{
table_data+='<td>'+cell_data[cell_count]+'</td>';

}

}
if(count == 0)
{
table_data+= '<th>DELETE </th><th>EDIT </th>'
}
else
{
table_data+= '<td><button onclick = "DeleteRow(event)">Delete</button></td><td><button  onclick = "EditRow(event)">Edit</button></td>'
}

table_data += '</tr>';

}
table_data+='</table>';
$('#file').html(table_data);

}

});
}
</script>

</head>
<body>
<div class="container">
<div class="table-responsive">

<h1 align="center">CSV FILE READING BY USING AJAX</h1>
<br />
<div align="center">
<button type="button" onclick="loadfile()" name="Data Load" id="Load" class="btn btn-default">Load</button>
<a href = "File.csv" download>
<button type = "button" class = "btn btn-indigo btn-lg" style = "float:right;"> SUBMIT </button>
</a>
</div>
<br />

<div id="file">
</div>
</div> 
</body>
</html>



